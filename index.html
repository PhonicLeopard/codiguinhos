<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Garagem Inteligente PRO - Unificada</title>
    <link rel="stylesheet" href="style.css" />
    <!-- Favicon (opcional) -->
    <!-- <link rel="icon" href="favicon.ico" type="image/x-icon"> -->
  </head>
  <body>
    <!-- Cabe√ßalho Principal -->
    <header class="main-header">
      <h1>Garagem Inteligente PRO üöóüí®</h1>
      <p>Gerenciamento Completo de Ve√≠culos e Manuten√ß√µes</p>
    </header>

    <!-- Corpo Principal -->
    <div class="main-content-area">
      <!-- Coluna da Sidebar (Lista de Ve√≠culos) -->
      <aside id="sidebar">
        <h3>Minha Garagem</h3>
        <ul id="vehicle-list" aria-live="polite">
          <!-- Lista de ve√≠culos ser√° populada pelo JavaScript -->
          <li class="placeholder">Nenhum ve√≠culo na garagem.</li>
        </ul>
        <button id="btn-show-add-vehicle-form" class="btn btn-create">
          + Adicionar Novo Ve√≠culo
        </button>
      </aside>

      <!-- Coluna do Painel Principal (Detalhes / Formul√°rio Adicionar) -->
      <main id="main-panel">
        <div id="panel-content">
          <div id="weather-forecast-view" class="hidden">
            <h2>Previs√£o do Tempo Detalhada</h2>
            <div class="weather-input-area">
                <input type="text" id="weather-city-input" placeholder="Digite o nome da cidade" aria-label="Nome da cidade para previs√£o do tempo">
                <button id="btn-buscar-previsao" class="btn btn-info">Buscar Previs√£o</button>
            </div>
            <div id="previsao-tempo-resultado">
                <!-- Resultados da previs√£o ser√£o inseridos aqui pelo JavaScript -->
                <p>Digite uma cidade e clique em "Buscar Previs√£o" para ver os resultados.</p>
            </div>
          <!-- 1. Estado Padr√£o / Placeholder -->
          <div id="panel-placeholder" class="info-panel placeholder-panel">
            <p>
              ‚¨ÖÔ∏è Selecione um ve√≠culo na lista ou clique em "+ Adicionar Novo
              Ve√≠culo".
            </p>
          </div>

          <!-- 2. Estado: Exibindo Detalhes do Ve√≠culo Selecionado -->
          <div id="vehicle-details-view" class="hidden">
            <header id="vehicle-detail-header" class="detail-header">
              <img
                id="detail-vehicle-img"
                img src="oip.jpg"        
                alt="Ve√≠culo Selecionado"
                class="detail-vehicle-image"
                onerror="this.src='oip.jpg';" 
              /> 
              <h2 id="detail-vehicle-name">Nome do Ve√≠culo</h2>
              <!-- Pequeno formul√°rio para editar nome/cor/imagem rapidamente -->
              <div class="quick-edit-props">
                <input
                  type="text"
                  id="quick-edit-model"
                  placeholder="Modelo (Obrigat√≥rio)"
                  aria-label="Editar Modelo do Ve√≠culo"
                  required
                />
                <input
                  type="text"
                  id="quick-edit-color"
                  placeholder="Cor (Obrigat√≥rio)"
                  aria-label="Editar Cor do Ve√≠culo"
                  required
                />
                <input
                  type="text"
                  id="quick-edit-image"
                  placeholder="URL Imagem (Opcional)"
                  aria-label="Editar URL da Imagem do Ve√≠culo"
                />
                <button
                  id="btn-save-quick-edit"
                  class="btn btn-action btn-small"
                  title="Salvar Altera√ß√µes R√°pidas"
                >
                  üíæ Salvar
                </button>
              </div>
            </header>

            <!-- Navega√ß√£o por Abas -->
            <nav id="vehicle-tabs-nav" class="tab-nav" role="tablist">
              <button
                class="tab-link active"
                data-target="#tab-info"
                role="tab"
                aria-selected="true"
                aria-controls="tab-info"
              >
                Informa√ß√µes
              </button>
              <button
                class="tab-link"
                data-target="#tab-actions"
                role="tab"
                aria-selected="false"
                aria-controls="tab-actions"
              >
                A√ß√µes
              </button>
              <button
                class="tab-link"
                data-target="#tab-register-maint"
                role="tab"
                aria-selected="false"
                aria-controls="tab-register-maint"
              >
                Registrar Manuten√ß√£o
              </button>
              <button
                class="tab-link"
                data-target="#tab-schedule-maint"
                role="tab"
                aria-selected="false"
                aria-controls="tab-schedule-maint"
              >
                Agendar Servi√ßo
              </button>
            </nav>

            <!-- Conte√∫do das Abas -->
            <div id="tab-content-container">
              <!-- Aba: Informa√ß√µes -->
              <div
                id="tab-info"
                class="tab-content active"
                role="tabpanel"
                aria-labelledby="tab-info"
              >
                <h4>Detalhes e Status</h4>
                <div id="info-details-content" class="info-panel">
                  <!-- Substitua o conte√∫do DENTRO de <div id="tab-info" ...> -->

<h4>Detalhes e Status</h4>
<div id="info-details-content" class="info-panel">
    <!-- 1. √Årea para os detalhes B√ÅSICOS (gerados pelo getDisplayInfo() do Veiculo) -->
    <div id="base-vehicle-details">
        <!-- Conte√∫do gerado pelo JS (modelo, cor, status, km, vel, etc.) -->
        <p>Selecione um ve√≠culo...</p>
    </div>

    <hr style="margin: 15px 0;"> <!-- Separador visual -->

    <!-- 2. √Årea para os detalhes EXTERNOS (vindos da API simulada) -->
    <h4>Detalhes T√©cnicos (API Simulada)</h4>
    <div id="external-vehicle-details-container">
        <!-- Bot√£o para disparar a busca -->
        <button id="btn-fetch-external-details" class="btn btn-info btn-small" style="margin-bottom: 10px;">
            üîç Ver Detalhes Extras
        </button>

        <!-- √Årea onde os resultados (ou loading/erro) ser√£o exibidos -->
        <div id="external-vehicle-details-content" style="font-size: 0.9em; color: #555; min-height: 40px;">
            <!-- JS populata isso -->
            <p>Clique no bot√£o acima para carregar os detalhes da API simulada.</p>
        </div>
    </div>
</div>

<!-- O restante de #tab-info (Hist√≥rico, Agendamentos) continua abaixo -->
<h4>Hist√≥rico de Manuten√ß√£o</h4>
<div id="info-history-content" class="info-panel maintenance-list-container">
    <!-- Lista gerada pelo JS -->
</div>
<h4>Agendamentos Futuros</h4>
<div id="info-schedule-content" class="info-panel schedule-list-container">
    <!-- Lista gerada pelo JS -->
</div>

<!-- FIM da substitui√ß√£o dentro de #tab-info -->
                </div>
                <h4>Hist√≥rico de Manuten√ß√£o</h4>
                <div
                  id="info-history-content"
                  class="info-panel maintenance-list-container"
                >
                  <!-- Lista gerada pelo JS -->
                </div>
                <h4>Agendamentos Futuros</h4>
                <div
                  id="info-schedule-content"
                  class="info-panel schedule-list-container"
                >
                  <!-- Lista gerada pelo JS -->
                </div>
              </div>

              <!-- Aba: A√ß√µes -->
              <div
                id="tab-actions"
                class="tab-content"
                role="tabpanel"
                aria-labelledby="tab-actions"
              >
                <h4>Controles do Ve√≠culo</h4>
                <fieldset>
                  <legend>Motor e Movimento</legend>
                  <div class="button-container action-buttons">
                    <!-- IDs s√£o mantidos, mas onclick="" foi REMOVIDO -->
                    <button id="btn-ligar" title="Ligar Motor" class="btn btn-action">Ligar</button>
                    <button id="btn-desligar" title="Desligar Motor" class="btn btn-action">Desligar</button>
                    <button id="btn-acelerar" title="Acelerar" class="btn btn-action">Acelerar</button>
                    <button id="btn-frear" title="Frear" class="btn btn-action">Frear</button>
                    <button id="btn-buzinar" title="Buzinar" class="btn btn-action">Buzinar</button>
                  </div>
                  <div class="input-group inline-action">
                    <label for="distanciaRodar">Rodar:</label>
                    <input type="number" id="distanciaRodar" value="100" min="1" class="input-small" aria-label="Dist√¢ncia a rodar em KM" required/>
                    <span>km</span>
                    <!-- onclick="" foi REMOVIDO -->
                    <button id="btn-rodar" title="Simular rodagem" class="btn btn-action">Ir</button>
                  </div>
                </fieldset>
                <!-- A√ß√µes Espec√≠ficas -->
                <fieldset id="actions-esportivo" class="specific-actions hidden">
                  <legend>Controles Esportivo</legend>
                  <div class="button-container action-buttons">
                     <!-- onclick="" foi REMOVIDO -->
                    <button id="btn-turbo-on" title="Ativar Turbo" class="btn btn-action">Turbo ON</button>
                    <button id="btn-turbo-off" title="Desativar Turbo" class="btn btn-action">Turbo OFF</button>
                  </div>
                </fieldset>
                <fieldset id="actions-caminhao" class="specific-actions hidden">
                  <legend>Controles Caminh√£o</legend>
                  <div class="input-group inline-action">
                    <label for="pesoCarga">Carga/Descarga:</label>
                    <input type="number" id="pesoCarga" value="1000" min="1" class="input-medium" aria-label="Peso da carga em KG" required/>
                    <span>kg</span>
                    <!-- onclick="" foi REMOVIDO -->
                    <button id="btn-carregar" title="Carregar" class="btn btn-action">Carregar</button>
                    <button id="btn-descarregar" title="Descarregar" class="btn btn-action">Descarregar</button>
                  </div>
                </fieldset>
              </div>

              <!-- Aba: Registrar Manuten√ß√£o -->
              <div id="tab-register-maint" class="tab-content" role="tabpanel" aria-labelledby="tab-register-maint">
                <h4>Registrar Servi√ßo Realizado</h4>
                <fieldset class="maintenance-forms">
                  <form id="register-maint-form" class="maintenance-section registration-form">
                    <div class="input-group">
                      <label for="manutTipo">Tipo:</label>
                      <input type="text" id="manutTipo" placeholder="Ex: Troca de √ìleo" required/>
                    </div>
                    <div class="input-group">
                      <label for="manutCusto">Custo (R$):</label>
                      <input type="text" id="manutCusto" placeholder="Ex: 150.00 ou 150,00" required pattern="^\d+([,.]\d{1,2})?$" inputmode="decimal"/>
                    </div>
                    <div class="input-group">
                      <label for="manutDesc">Descri√ß√£o:</label>
                      <input type="text" id="manutDesc" placeholder="Detalhes adicionais (opcional)"/>
                    </div>
                    <div class="button-container">
                       <!-- onclick="" foi REMOVIDO -->
                      <button type="button" class="btn btn-maintenance">Registrar Agora</button>
                    </div>
                  </form>
                </fieldset>
              </div>

              <!-- Aba: Agendar Servi√ßo -->
              <div id="tab-schedule-maint" class="tab-content" role="tabpanel" aria-labelledby="tab-schedule-maint">
                <h4>Agendar Servi√ßo Futuro</h4>
                <fieldset class="maintenance-forms">
                  <form id="schedule-maint-form" class="maintenance-section agendamento-form">
                    <div class="input-group">
                      <label for="agendamentoData">Data/Hora:</label>
                      <input type="datetime-local" id="agendamentoData" required/>
                    </div>
                    <div class="input-group">
                      <label for="agendamentoTipo">Tipo Servi√ßo:</label>
                      <input type="text" id="agendamentoTipo" placeholder="Ex: Revis√£o Preventiva" required/>
                    </div>
                    <div class="input-group">
                      <label for="agendamentoDesc">Observa√ß√µes:</label>
                      <input type="text" id="agendamentoDesc" placeholder="Lembretes (opcional)"/>
                    </div>
                    <div class="button-container">
                       <!-- onclick="" foi REMOVIDO -->
                      <button type="button" class="btn btn-schedule">Agendar</button>
                    </div>
                  </form>
                </fieldset>
              </div>
            </div>
            <!-- Fim #tab-content-container -->

            <!-- Bot√£o de Excluir -->
            <div class="delete-area">
              <button id="btn-delete-vehicle" class="btn btn-danger">
                Excluir Ve√≠culo
              </button>
            </div>
          </div>
          <!-- Fim #vehicle-details-view -->

          <!-- 3. Estado: Formul√°rio para Adicionar Novo Ve√≠culo -->
          <div id="add-vehicle-form-view" class="hidden">
            <h2>Adicionar Novo Ve√≠culo</h2>
            <form id="add-vehicle-form">
              <div class="input-group">
                <label for="add-vehicle-type">Tipo:</label>
                <select id="add-vehicle-type" required>
                  <option value="" disabled selected>Selecione o tipo...</option>
                  <option value="Carro">Carro Comum</option>
                  <option value="CarroEsportivo">Carro Esportivo</option>
                  <option value="Caminhao">Caminh√£o</option>
                </select>
              </div>
              <div class="input-group">
                <label for="add-modelo">Modelo:</label>
                <input type="text" id="add-modelo" required placeholder="Ex: Sedan X"/>
              </div>
              <div class="input-group">
                <label for="add-cor">Cor:</label>
                <input type="text" id="add-cor" required placeholder="Ex: Azul Met√°lico"/>
              </div>
              <div class="input-group">
                <label for="add-imagem">Imagem URL:</label>
                <input type="text" id="add-imagem" placeholder="http://... (Opcional)"/>
              </div>
              <!-- Campo Espec√≠fico Caminh√£o -->
              <div class="input-group specific-field hidden" data-type="Caminhao">
                <label for="add-capacidade">Capacidade (kg):</label>
                <!-- 'required' √© gerenciado por JS no 'main.js' -->
                <input type="number" id="add-capacidade" value="10000" min="0" placeholder="Ex: 10000" inputmode="numeric"/>
              </div>
              <div class="button-container form-buttons">
                <button type="submit" class="btn btn-create">Salvar Novo Ve√≠culo</button>
                <button type="button" id="btn-cancel-add-vehicle" class="btn btn-secondary">Cancelar</button>
              </div>
            </form>
          </div>
          <!-- Fim #add-vehicle-form-view -->
        </div>
        <!-- Fim #panel-content -->
      </main>
      <!-- Fim #main-panel -->
    </div>
    <!-- Fim .main-content-area -->

    <!-- Rodap√© -->
    <footer class="main-footer">
      <p>Projeto Garagem Inteligente ¬© 2024</p>
    </footer>

    <!-- √Årea para Notifica√ß√µes (JS) -->
    <div id="notification-area" aria-live="polite"></div>

    <!-- Scripts -->
    <!-- A linha antiga <script src="script.js"></script> foi removida -->
    <!-- A nova linha abaixo carrega o main.js como m√≥dulo, que por sua vez importa as classes -->
    <script type="module" src="weatherService.js"></script>
    <script type="module" src="Caminhao.js"></script>
    <script type="module" src="Veiculo.js"></script>
    <script type="module" src="CarroEsportivo.js"></script>
    <script type="module" src="Manutencao.js"></script>
    <script type="module" src="Carro.js></script>
    <script type="module" src="main.js"></script>

  </body>
</html>